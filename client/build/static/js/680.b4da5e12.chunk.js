"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[680],{9502:(e,t,i)=>{i.d(t,{A:()=>n});const n=i(6213).A.create({baseURL:"http://parseserver.us:4001",timeout:6e4,headers:{"Content-Type":"application/json"}})},9381:(e,t,i)=>{i.d(t,{A:()=>r});i(5043);var n=i(1637),l=i(7353),s=i(579);function r(){return(0,s.jsx)(l.A,{sx:{display:"flex",marginTop:5,marginBottom:5,justifyContent:"center"},children:(0,s.jsx)(n.A,{})})}},3680:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v,fetchNews:()=>x});var n=i(5043),l=i(3216),s=i(7122),r=i(6178),a=i.n(r),o=i(4194),d=i(9502),c=i(840),u=i(9381),f=i(579);const x=async e=>{const t=`/news/${e}`;return(await d.A.get(t)).data},v=()=>{const e=(0,l.g)(),{id:t}=e,[i,r]=(0,s.fp)(c.uk),[d,v]=n.useState(null),[p,h]=n.useState(!1),[y,j]=n.useState(!1),[g,m]=n.useState(null),w=n.useMemo((()=>`detail_${t}`),[t]),b=n.useCallback(((e,t)=>{r((i=>({...i,[e]:t})))}),[r]),S=n.useCallback((async e=>{try{if(!p)return;if(j(!0),m(null),i[w]&&!e){var n;const e=(new Date).getTime(),t=null===(n=i[w])||void 0===n?void 0:n.expiryRef;if(t){const n=e-t;if(Math.round(n/1e3)<=86400)return console.log("data from cache: ",w,", ",i[w]),void v(i[w])}}console.log("fresh data: ",w);const l=await x(t);b(w,{...l,expiryRef:(new Date).getTime(),stateKey:w}),v(l)}catch(l){l instanceof Error?m(l.message):"string"===typeof l&&m(l)}finally{j(!1)}}),[t,w,b,i,p]);return n.useEffect((()=>{S()}),[S]),n.useEffect((()=>{h(!0)}),[]),(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{children:null===d||void 0===d?void 0:d.title}),g&&(0,f.jsx)("div",{children:(0,f.jsx)(o.A,{severity:"error",children:g})}),y&&(0,f.jsx)(u.A,{}),d&&(0,f.jsx)("div",{children:(0,f.jsxs)("div",{style:{gap:"16px",marginTop:"20px"},children:[(null===d||void 0===d?void 0:d.urlToImage)&&(0,f.jsx)("div",{style:{maxWidth:"100%",position:"relative"},children:(0,f.jsx)("img",{src:null===d||void 0===d?void 0:d.urlToImage,alt:"",style:{width:"100%"}})}),(0,f.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",marginTop:"30px"},children:[(0,f.jsx)("div",{style:{flex:1,fontSize:"18px",marginBottom:"10px"},children:null===d||void 0===d?void 0:d.description}),(0,f.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"baseline",fontSize:"14px"},children:(0,f.jsx)("a",{href:null===d||void 0===d?void 0:d.url,target:"_blank",rel:"noreferrer",children:"View Details"})}),(0,f.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"baseline",fontSize:"11px"},children:a()(null===d||void 0===d?void 0:d.publishedAt).fromNow()})]})]})})]})}},840:(e,t,i)=>{i.d(t,{U3:()=>s,uk:()=>r});var n=i(3774),l=i(7020);(0,n.eU)({});const s=(0,l.tG)("newsObjectLS",{}),r=((0,n.eU)({}),(0,l.tG)("newsSingleObjectLS",{}))}}]);
//# sourceMappingURL=680.b4da5e12.chunk.js.map