"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[731],{9502:(e,i,t)=>{t.d(i,{A:()=>l});const l=t(6213).A.create({baseURL:"http://parseserver.us:4001",timeout:6e4,headers:{"Content-Type":"application/json"}})},9381:(e,i,t)=>{t.d(i,{A:()=>a});t(5043);var l=t(1637),s=t(7353),n=t(579);function a(){return(0,n.jsx)(s.A,{sx:{display:"flex",marginTop:5,marginBottom:5,justifyContent:"center"},children:(0,n.jsx)(l.A,{})})}},8731:(e,i,t)=>{t.r(i),t.d(i,{default:()=>x,fetchNews:()=>h});var l=t(5043),s=t(3216),n=t(7122),a=t(6178),r=t.n(a),d=t(4194),c=t(9502),o=t(840),u=t(9381),v=t(579);const h=async e=>{const i=`/news/${e}`;return(await c.A.get(i)).data},x=()=>{const e=(0,s.g)(),{id:i}=e,[t,a]=(0,n.fp)(o.uk),[c,x]=l.useState(null),[j,f]=l.useState(!1),[m,p]=l.useState(!1),[g,y]=l.useState(null),b=l.useMemo((()=>`detail_${i}`),[i]),w=l.useCallback(((e,i)=>{a((t=>({...t,[e]:i})))}),[a]),k=l.useCallback((async e=>{try{if(!j)return;if(p(!0),y(null),t[b]&&!e){var l;const e=(new Date).getTime(),i=null===(l=t[b])||void 0===l?void 0:l.expiryRef;if(i){const l=e-i;if(Math.round(l/1e3)<=86400)return console.log("data from cache: ",b,", ",t[b]),void x(t[b])}}console.log("fresh data: ",b);const s=await h(i);w(b,{...s,expiryRef:(new Date).getTime(),stateKey:b}),x(s)}catch(s){s instanceof Error?y(s.message):"string"===typeof s&&y(s)}finally{p(!1)}}),[i,b,w,t,j]);return l.useEffect((()=>{k()}),[k]),l.useEffect((()=>{f(!0)}),[]),(0,v.jsxs)("div",{className:"detail",children:[(0,v.jsx)("h3",{children:(0,v.jsx)("a",{href:null===c||void 0===c?void 0:c.url,target:"_blank",rel:"noreferrer",className:"detail_link",children:null===c||void 0===c?void 0:c.title})}),g&&(0,v.jsx)("div",{children:(0,v.jsx)(d.A,{severity:"error",children:g})}),m&&(0,v.jsx)(u.A,{}),c&&(0,v.jsx)("div",{children:(0,v.jsxs)("div",{style:{gap:"16px",marginTop:"20px"},children:[(null===c||void 0===c?void 0:c.urlToImage)&&(0,v.jsx)("div",{style:{maxWidth:"100%",position:"relative"},children:(0,v.jsx)("img",{src:null===c||void 0===c?void 0:c.urlToImage,alt:"",style:{width:"100%"}})}),(0,v.jsxs)("div",{className:"detail_content",children:[(0,v.jsx)("div",{className:"detail_text",children:null===c||void 0===c?void 0:c.description}),(0,v.jsxs)("div",{className:"detail_text",children:[(0,v.jsx)("div",{children:(0,v.jsx)("b",{children:"Content:"})}),(0,v.jsx)("div",{children:null===c||void 0===c?void 0:c.content})]}),(0,v.jsxs)("div",{className:"detail_text",children:[(0,v.jsx)("b",{children:"Source:"})," ",null===c||void 0===c?void 0:c.source]}),(0,v.jsxs)("div",{className:"detail_text",children:[(0,v.jsx)("b",{children:"Author:"})," ",null===c||void 0===c?void 0:c.author]}),(0,v.jsxs)("div",{className:"detail_meta_data",children:[(0,v.jsx)("div",{children:(0,v.jsx)("a",{href:null===c||void 0===c?void 0:c.url,target:"_blank",rel:"noreferrer",children:"View Details"})}),(0,v.jsx)("div",{children:r()(null===c||void 0===c?void 0:c.publishedAt).fromNow()})]})]})]})})]})}},840:(e,i,t)=>{t.d(i,{U3:()=>n,uk:()=>a});var l=t(3774),s=t(7020);(0,l.eU)({});const n=(0,s.tG)("newsObjectLS",{}),a=((0,l.eU)({}),(0,s.tG)("newsSingleObjectLS",{}))}}]);
//# sourceMappingURL=731.c4e6959d.chunk.js.map